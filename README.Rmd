---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# steward

<!-- badges: start -->
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://www.tidyverse.org/lifecycle/#experimental)
<!-- badges: end -->

The goal of **steward** is to make it easier to import, manage, and publish the metadata associated with data frames. This might be useful for:

- [documenting a dataset](https://r-pkgs.org/data.html#documenting-data) for a package
- publishing a data dictionary in an R Markdown document

Our current defintion of metadata includes the name, description and source of a dataset, as well as the name, type, and description of each of the variables in the dataset.

The name, steward, is an homage to the [Data Stewardship](http://agron590-isu.github.io/) class taught by [Andee Kaplan](https://github.com/andeek) and [Ranae Dietzel](https://github.com/ranae) (also an author of this package) at Iowa State University in Fall 2016.

## Installation

You can install the development version of steward from [GitHub](https://github.com/uncoast-unconf/steward) with:

```r
# install.packages("devtools")
devtools::install_github("uncoast-unconf/steward")
```

## Usage

```{r load}
library("steward")
```

The current capabilities all deal with metadata:

- [read from YAML](#read-yaml) 
- [read from CSV](#read-csv) 
- [write to roxygen](#write-roxygen) 
- [write to gt table](#write-gt-table) 

### Future capabilities

Soon, we hope to add additional capabilities:

- [write metadata to YAML](https://github.com/uncoast-unconf/steward/issues/42)
- [combine metadata with dataset](https://github.com/uncoast-unconf/steward/issues/36)
  - [read and write combined dataset](https://github.com/uncoast-unconf/steward/issues/41) from/to flat files
- take into account [timezone as column metadata](https://github.com/uncoast-unconf/steward/issues/39)
- [build metadata from package-documentation](https://github.com/uncoast-unconf/steward/issues/43) (`.Rd` file)

#### Read YAML

Here are the first lines of a YAML file containing metadata from [ggplot2](http://ggplot2.tidyverse.org)'s `diamonds` dataset, which is available as:

```r
system.file("metadata/diamonds.yaml", package = "steward") %>%
```

```{r yaml, comment = "", echo = FALSE}
system.file("metadata/diamonds.yaml", package = "steward") %>%
  readr::read_lines(n_max = 12) %>%
  glue::glue_collapse(sep = "\n")
```

We can read a YAML file using `stw_read_yaml()`:

```{r example_read_yaml}
stw_read_yaml(system.file("metadata/diamonds.yaml", package = "steward"))
```

#### Read CSV

This is an emerging capability that we need to document.

#### Write roxygen

```{r example_roxygen}
stw_to_roxygen(diamonds_meta)
```

#### Write gt Table

If you are creating an R Markdown document, you can use the `stw_to_table()` function to create a [gt table](https://gt.rstudio.com):

```{r}
stw_to_table(diamonds_meta)
```

## Related work

The [codebook](https://rubenarslan.github.io/codebook/) package can help you manage dataset metadata.









